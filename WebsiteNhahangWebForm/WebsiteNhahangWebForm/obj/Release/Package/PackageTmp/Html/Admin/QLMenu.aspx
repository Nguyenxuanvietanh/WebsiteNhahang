<%@ Page Title="" Language="C#" MasterPageFile="~/MasterPage/Admin.Master" AutoEventWireup="true" CodeBehind="QLMenu.aspx.cs" Inherits="WebsiteNhahangWebForm.Html.Admin.QLMenu" %>
<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server">
    <link href="../../CSS/Admin/qlmenu.css" rel="stylesheet" />
    <link href="../../CSS/reset.css" rel="stylesheet" />
    <script src="../../Jquery/jquery.min.js"></script>
    <script src="../../Jquery/menuadmin.js"></script>
    <style type="text/css">
        .auto-style1 {
            width: 100%;
        }
        .auto-style2 {
        }
        .auto-style3 {
            width: 148px;
        }
        .auto-style4 {
            width: 190px;
            text-align: right;
        }
        .auto-style5 {
            width: 213px;
            text-align: right;
        }
    </style>
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
    <form id="form1" runat="server">
    <div class="content">
        <div class="qlmenu" style="min-height: 792px">
            <asp:Label ID="Label1" runat="server" Text="Quản lý menu" Font-Size="25px" Font-Bold="True"></asp:Label>
            <div class="themmenu" style="background-color: #999;margin-top: 50px;border: 1px solid #333;border-radius: 10px;padding: 10px;">
                <asp:Label ID="Label2" runat="server" Text="Thêm Menu" Font-Bold="True" Font-Size="20px"></asp:Label>
                <br /><br />
                <table class="auto-style1">
                    <tr>
                        <td class="auto-style5">Menu:</td>
                        <td class="auto-style3">
                            <asp:TextBox ID="txtMenu" runat="server" CssClass="input"></asp:TextBox>
                        </td>
                        <td class="auto-style4">Link:</td>
                        <td>
                            <asp:TextBox ID="txtLink" runat="server" CssClass="input"></asp:TextBox>
                        </td>
                    </tr>
                    <tr>
                        <td class="auto-style5">&nbsp;</td>
                        <td class="auto-style3">
                            <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" ControlToValidate="txtMenu" ErrorMessage="(*)" ForeColor="White" ValidationGroup="them"></asp:RequiredFieldValidator>
                        </td>
                        <td class="auto-style4">&nbsp;</td>
                        <td>
                            <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" ControlToValidate="txtLink" ErrorMessage="(*)" ForeColor="White" ValidationGroup="them"></asp:RequiredFieldValidator>
                        </td>
                    </tr>
                    <tr>
                        <td class="auto-style2" colspan="4">
                            <asp:Button ID="btnThem" runat="server" Text="Thêm" CssClass="button" OnClick="btnThem_Click" ValidationGroup="them" />
                        </td>
                    </tr>
                </table>
            </div>
            <div style="padding: 20px; margin-left: 250px;">
                <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" DataKeyNames="MaMenu" DataSourceID="SqlDataSource1" AutoGenerateDeleteButton="True" AutoGenerateEditButton="True">
                <Columns>
                    <asp:BoundField DataField="MaMenu" HeaderText="MaMenu" InsertVisible="False" ReadOnly="True" SortExpression="MaMenu" />
                    <asp:BoundField DataField="Menu" HeaderText="Menu" SortExpression="Menu" />
                    <asp:BoundField DataField="Link" HeaderText="Link" SortExpression="Link" />
                </Columns>
                
            </asp:GridView>
            <asp:SqlDataSource ID="SqlDataSource1" runat="server" ConnectionString="<%$ ConnectionStrings:DataConnectionString %>" SelectCommand="SELECT * FROM [Menu]" DeleteCommand="DELETE FROM [Menu] WHERE [MaMenu] = @MaMenu" InsertCommand="INSERT INTO [Menu] ([Menu], [Link]) VALUES (@Menu, @Link)" UpdateCommand="UPDATE [Menu] SET [Menu] = @Menu, [Link] = @Link WHERE [MaMenu] = @MaMenu">
                <DeleteParameters>
                    <asp:Parameter Name="MaMenu" Type="Int32" />
                </DeleteParameters>
                <InsertParameters>
                    <asp:Parameter Name="Menu" Type="String" />
                    <asp:Parameter Name="Link" Type="String" />
                </InsertParameters>
                <UpdateParameters>
                    <asp:Parameter Name="Menu" Type="String" />
                    <asp:Parameter Name="Link" Type="String" />
                    <asp:Parameter Name="MaMenu" Type="Int32" />
                </UpdateParameters>
                </asp:SqlDataSource>
                <br />
            </div>
        </div>
        <a href="#">Quản lý menu con</a>
    </div>
    </form>
</asp:Content>
